<template>
    <lightning-card>
        <template if:true={basketId}>
            <div class="slds-box">

                <div class="slds-text-align_right slds-p-around_small"  >
                    <lightning-button variant="destructive" label="Delete" title="Delete basket" onclick={handleDeleteClick}
                        icon-name="utility:delete" icon-position="right" class="slds-m-left_x-small"></lightning-button>
                </div>

                <div class="slds-theme_default">
                    <template if:true={isOpenModal}>
                        <c-are-you-sure onnoclick={handleNoClick} onyesclick={handleYesClick}></c-are-you-sure>
                    </template> 
                </div>

                <lightning-layout class="slds-grid slds-gutters" vertical-align="center">
                    <lightning-layout-item class="slds-col slds-size_3-of-6">
                        <div class="slds-var-p-around_x-small slds-text-align_center">
                            <c-product-item-for-basket basket-id={basketId}>
                            </c-product-item-for-basket>
                        </div>
                    </lightning-layout-item>

                    <lightning-layout-item class="slds-col slds-size_1-of-6">
                        <div class="slds-text-align_center ">
                            <div class="slds-p-bottom_none">
                                <p class="slds-text-heading_medium">Quantity items:</p>
                            </div>
                            <div class="slds-text-align_center" >
                                <div  class={quantityClass}>
                                    <lightning-input type="number" name="quantity" value={quantityItem} onchange={handleQuantity} read-only={readOnly} min="1"></lightning-input>
                                </div>
                                <p>You select {quantityItem} item(s). In stock: {totalQuantityValue} item(s).</p>
                                <div class="slds-text-color_error">{info} </div>
                            </div>
                        </div>
                    </lightning-layout-item>

                    <lightning-layout-item class="slds-col slds-size_1-of-6">
                        <div class="slds-p-around_medium slds-text-align_center slds-text-heading_medium">
                            <p> Total price: </p>
                            <div class="slds-m-top_x-small" >
                                <p><strong><lightning-formatted-number id="totalPriceItem" value={totalPrice} format-style="currency" currency-code="USD">
                                </lightning-formatted-number></strong></p>
                            </div>
                        </div>
                    </lightning-layout-item>

                    <lightning-layout-item class="slds-col slds-size_1-of-6">
                        <div class="slds-p-around_medium slds-text-align_center">
                            <div class="slds-form-element">
                                <label class="slds-checkbox_toggle slds-grid">
                                <span class="slds-form-element__label slds-m-bottom_none slds-text-heading_medium">Add to Order</span>
                                </br>
                                <input type="checkbox" name="checkbox-toggle-64" value="checkbox-toggle-64"
                                    aria-describedby="checkbox-toggle-64" checked={checkboxValue} onchange={handleCheckbox}/>
                                <span id="checkbox-toggle-64" class="slds-checkbox_faux_container" aria-live="assertive">
                                    <span class="slds-checkbox_faux"></span>
                                    <span class="slds-checkbox_on">In order</span>
                                    <span class="slds-checkbox_off">Leave in the basket</span>
                                </span>
                                </label>
                            </div>
                        </div>
                    </lightning-layout-item>
                </lightning-layout>

            </div>
        </template>
    </lightning-card>
</template>